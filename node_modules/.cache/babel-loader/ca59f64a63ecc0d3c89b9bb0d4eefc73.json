{"ast":null,"code":"'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar EventEmitter = require('../../eventemitter');\n\nvar _a = require('../../util'),\n    buildLogLevels = _a.buildLogLevels,\n    valueToJSON = _a.valueToJSON;\n\nvar DEFAULT_LOG_LEVEL = require('../../util/constants').DEFAULT_LOG_LEVEL;\n\nvar Log = require('../../util/log');\n\nvar nInstances = 0;\n/**\n * A {@link TrackPublication} represents a {@link Track} that\n * has been published to a {@link Room}.\n * @property {string} trackName - the published {@link Track}'s name\n * @property {Track.SID} trackSid - SID assigned to the published {@link Track}\n * @emits TrackPublication#trackDisabled\n * @emits TrackPublication#trackEnabled\n */\n\nvar TrackPublication =\n/** @class */\nfunction (_super) {\n  __extends(TrackPublication, _super);\n  /**\n   * Construct a {@link TrackPublication}.\n   * @param {string} trackName - the published {@link Track}'s name\n   * @param {Track.SID} trackSid - SID assigned to the {@link Track}\n   * @param {TrackPublicationOptions} options - {@link TrackPublication} options\n   */\n\n\n  function TrackPublication(trackName, trackSid, options) {\n    var _this = _super.call(this) || this;\n\n    options = Object.assign({\n      logLevel: DEFAULT_LOG_LEVEL\n    }, options);\n    var logLevels = buildLogLevels(options.logLevel);\n    Object.defineProperties(_this, {\n      _instanceId: {\n        value: nInstances++\n      },\n      _log: {\n        value: options.log ? options.log.createLog('default', _this) : new Log('default', _this, logLevels, options.loggerName)\n      },\n      trackName: {\n        enumerable: true,\n        value: trackName\n      },\n      trackSid: {\n        enumerable: true,\n        value: trackSid\n      }\n    });\n    return _this;\n  }\n\n  TrackPublication.prototype.toJSON = function () {\n    return valueToJSON(this);\n  };\n\n  TrackPublication.prototype.toString = function () {\n    return \"[TrackPublication #\" + this._instanceId + \": \" + this.trackSid + \"]\";\n  };\n\n  return TrackPublication;\n}(EventEmitter);\n/**\n * The published {@link Track} was disabled.\n * @event TrackPublication#trackDisabled\n */\n\n/**\n * The published {@link Track} was enabled.\n * @event TrackPublication#trackEnabled\n */\n\n/**\n * A {@link LocalAudioTrackPublication} or a {@link RemoteAudioTrackPublication}.\n * @typedef {LocalAudioTrackPublication|RemoteAudioTrackPublication} AudioTrackPublication\n */\n\n/**\n * A {@link LocalDataTrackPublication} or a {@link RemoteDataTrackPublication}.\n * @typedef {LocalDataTrackPublication|RemoteDataTrackPublication} DataTrackPublication\n */\n\n/**\n * A {@link LocalVideoTrackPublication} or a {@link RemoteVideoTrackPublication}.\n * @typedef {LocalVideoTrackPublication|RemoteVideoTrackPublication} VideoTrackPublication\n */\n\n/**\n * {@link TrackPublication} options\n * @typedef {object} TrackPublicationOptions\n * @property {LogLevel|LogLevels} logLevel - Log level for 'media' modules\n */\n\n\nmodule.exports = TrackPublication;","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,YAAY,GAAGC,OAAO,CAAC,oBAAD,CAA5B;;AACM,SAAkCA,OAAO,CAAC,YAAD,CAAzC;AAAA,IAAEC,cAAc,oBAAhB;AAAA,IAAkBC,WAAW,iBAA7B;;AACE,qBAAiB,GAAKF,OAAO,CAAC,sBAAD,CAAP,CAA+BG,iBAArD;;AACR,IAAMC,GAAG,GAAGJ,OAAO,CAAC,gBAAD,CAAnB;;AACA,IAAIK,UAAU,GAAG,CAAjB;AAEA;;;;;;;;;AAQA;AAAA;AAAA;EAA+BC;EAC7B;;;;;;;;EAMA,0BAAYC,SAAZ,EAAuBC,QAAvB,EAAiCC,OAAjC,EAAwC;IAAxC,YACEC,qBAAO,IADT;;IAGED,OAAO,GAAGE,MAAM,CAACC,MAAP,CAAc;MACtBC,QAAQ,EAAEV;IADY,CAAd,EAEPM,OAFO,CAAV;IAIA,IAAMK,SAAS,GAAGb,cAAc,CAACQ,OAAO,CAACI,QAAT,CAAhC;IAEAF,MAAM,CAACI,gBAAP,CAAwBC,KAAxB,EAA8B;MAC5BC,WAAW,EAAE;QACXC,KAAK,EAAEb,UAAU;MADN,CADe;MAI5Bc,IAAI,EAAE;QACJD,KAAK,EAAET,OAAO,CAACW,GAAR,GAAcX,OAAO,CAACW,GAAR,CAAYC,SAAZ,CAAsB,SAAtB,EAAiCL,KAAjC,CAAd,GAAuD,IAAIZ,GAAJ,CAAQ,SAAR,EAAmBY,KAAnB,EAAyBF,SAAzB,EAAoCL,OAAO,CAACa,UAA5C;MAD1D,CAJsB;MAO5Bf,SAAS,EAAE;QACTgB,UAAU,EAAE,IADH;QAETL,KAAK,EAAEX;MAFE,CAPiB;MAW5BC,QAAQ,EAAE;QACRe,UAAU,EAAE,IADJ;QAERL,KAAK,EAAEV;MAFC;IAXkB,CAA9B;;EAgBD;;EAEDgB;IACE,OAAOtB,WAAW,CAAC,IAAD,CAAlB;EACD,CAFD;;EAIAsB;IACE,OAAO,wBAAsB,KAAKP,WAA3B,GAAsC,IAAtC,GAA2C,KAAKT,QAAhD,GAAwD,GAA/D;EACD,CAFD;;EAGF;AAAC,CAzCD,CAA+BT,YAA/B;AA2CA;;;;;AAKA;;;;;AAKA;;;;;AAKA;;;;;AAKA;;;;;AAKA;;;;;;;AAMA0B,MAAM,CAACC,OAAP,GAAiBF,gBAAjB","names":["EventEmitter","require","buildLogLevels","valueToJSON","DEFAULT_LOG_LEVEL","Log","nInstances","__extends","trackName","trackSid","options","_super","Object","assign","logLevel","logLevels","defineProperties","_this","_instanceId","value","_log","log","createLog","loggerName","enumerable","TrackPublication","module","exports"],"sources":["/home/samliu/repos/ieee/twilio-video-starter-kit/node_modules/twilio-video/lib/media/track/trackpublication.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('../../eventemitter');\nconst { buildLogLevels, valueToJSON } = require('../../util');\nconst { DEFAULT_LOG_LEVEL } = require('../../util/constants');\nconst Log = require('../../util/log');\nlet nInstances = 0;\n\n/**\n * A {@link TrackPublication} represents a {@link Track} that\n * has been published to a {@link Room}.\n * @property {string} trackName - the published {@link Track}'s name\n * @property {Track.SID} trackSid - SID assigned to the published {@link Track}\n * @emits TrackPublication#trackDisabled\n * @emits TrackPublication#trackEnabled\n */\nclass TrackPublication extends EventEmitter {\n  /**\n   * Construct a {@link TrackPublication}.\n   * @param {string} trackName - the published {@link Track}'s name\n   * @param {Track.SID} trackSid - SID assigned to the {@link Track}\n   * @param {TrackPublicationOptions} options - {@link TrackPublication} options\n   */\n  constructor(trackName, trackSid, options) {\n    super();\n\n    options = Object.assign({\n      logLevel: DEFAULT_LOG_LEVEL\n    }, options);\n\n    const logLevels = buildLogLevels(options.logLevel);\n\n    Object.defineProperties(this, {\n      _instanceId: {\n        value: nInstances++\n      },\n      _log: {\n        value: options.log ? options.log.createLog('default', this) : new Log('default', this, logLevels, options.loggerName)\n      },\n      trackName: {\n        enumerable: true,\n        value: trackName\n      },\n      trackSid: {\n        enumerable: true,\n        value: trackSid\n      }\n    });\n  }\n\n  toJSON() {\n    return valueToJSON(this);\n  }\n\n  toString() {\n    return `[TrackPublication #${this._instanceId}: ${this.trackSid}]`;\n  }\n}\n\n/**\n * The published {@link Track} was disabled.\n * @event TrackPublication#trackDisabled\n */\n\n/**\n * The published {@link Track} was enabled.\n * @event TrackPublication#trackEnabled\n */\n\n/**\n * A {@link LocalAudioTrackPublication} or a {@link RemoteAudioTrackPublication}.\n * @typedef {LocalAudioTrackPublication|RemoteAudioTrackPublication} AudioTrackPublication\n */\n\n/**\n * A {@link LocalDataTrackPublication} or a {@link RemoteDataTrackPublication}.\n * @typedef {LocalDataTrackPublication|RemoteDataTrackPublication} DataTrackPublication\n */\n\n/**\n * A {@link LocalVideoTrackPublication} or a {@link RemoteVideoTrackPublication}.\n * @typedef {LocalVideoTrackPublication|RemoteVideoTrackPublication} VideoTrackPublication\n */\n\n/**\n * {@link TrackPublication} options\n * @typedef {object} TrackPublicationOptions\n * @property {LogLevel|LogLevels} logLevel - Log level for 'media' modules\n */\n\nmodule.exports = TrackPublication;\n"]},"metadata":{},"sourceType":"script"}