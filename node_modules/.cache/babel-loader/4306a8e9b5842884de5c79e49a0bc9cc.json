{"ast":null,"code":"'use strict';\n\nvar Filter =\n/** @class */\nfunction () {\n  function Filter(options) {\n    options = Object.assign({\n      getKey: function defaultGetKey(a) {\n        return a;\n      },\n      getValue: function defaultGetValue(a) {\n        return a;\n      },\n      isLessThanOrEqualTo: function defaultIsLessThanOrEqualTo(a, b) {\n        return a <= b;\n      }\n    }, options);\n    Object.defineProperties(this, {\n      _getKey: {\n        value: options.getKey\n      },\n      _getValue: {\n        value: options.getValue\n      },\n      _isLessThanOrEqualTo: {\n        value: options.isLessThanOrEqualTo\n      },\n      _map: {\n        value: new Map()\n      }\n    });\n  }\n\n  Filter.prototype.toMap = function () {\n    return new Map(this._map);\n  };\n\n  Filter.prototype.updateAndFilter = function (entries) {\n    return entries.filter(this.update, this);\n  };\n\n  Filter.prototype.update = function (entry) {\n    var key = this._getKey(entry);\n\n    var value = this._getValue(entry);\n\n    if (this._map.has(key) && this._isLessThanOrEqualTo(value, this._map.get(key))) {\n      return false;\n    }\n\n    this._map.set(key, value);\n\n    return true;\n  };\n\n  return Filter;\n}();\n\nmodule.exports = Filter;","map":{"version":3,"mappings":"AAAA;;AAEA;AAAA;AAAA;EACE,gBAAYA,OAAZ,EAAmB;IACjBA,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc;MACtBC,MAAM,EAAE,SAASC,aAAT,CAAuBC,CAAvB,EAAwB;QAAI,OAAOA,CAAP;MAAW,CADzB;MAEtBC,QAAQ,EAAE,SAASC,eAAT,CAAyBF,CAAzB,EAA0B;QAAI,OAAOA,CAAP;MAAW,CAF7B;MAGtBG,mBAAmB,EAAE,SAASC,0BAAT,CAAoCJ,CAApC,EAAuCK,CAAvC,EAAwC;QAAI,OAAOL,CAAC,IAAIK,CAAZ;MAAgB;IAH3D,CAAd,EAIPV,OAJO,CAAV;IAKAC,MAAM,CAACU,gBAAP,CAAwB,IAAxB,EAA8B;MAC5BC,OAAO,EAAE;QACPC,KAAK,EAAEb,OAAO,CAACG;MADR,CADmB;MAI5BW,SAAS,EAAE;QACTD,KAAK,EAAEb,OAAO,CAACM;MADN,CAJiB;MAO5BS,oBAAoB,EAAE;QACpBF,KAAK,EAAEb,OAAO,CAACQ;MADK,CAPM;MAU5BQ,IAAI,EAAE;QACJH,KAAK,EAAE,IAAII,GAAJ;MADH;IAVsB,CAA9B;EAcD;;EAEDC;IACE,OAAO,IAAID,GAAJ,CAAQ,KAAKD,IAAb,CAAP;EACD,CAFD;;EAIAE,6CAAgBC,OAAhB,EAAuB;IACrB,OAAOA,OAAO,CAACC,MAAR,CAAe,KAAKC,MAApB,EAA4B,IAA5B,CAAP;EACD,CAFD;;EAIAH,oCAAOI,KAAP,EAAY;IACV,IAAMC,GAAG,GAAG,KAAKX,OAAL,CAAaU,KAAb,CAAZ;;IACA,IAAMT,KAAK,GAAG,KAAKC,SAAL,CAAeQ,KAAf,CAAd;;IACA,IAAI,KAAKN,IAAL,CAAUQ,GAAV,CAAcD,GAAd,KACA,KAAKR,oBAAL,CAA0BF,KAA1B,EAAiC,KAAKG,IAAL,CAAUS,GAAV,CAAcF,GAAd,CAAjC,CADJ,EAC0D;MACxD,OAAO,KAAP;IACD;;IACD,KAAKP,IAAL,CAAUU,GAAV,CAAcH,GAAd,EAAmBV,KAAnB;;IACA,OAAO,IAAP;EACD,CATD;;EAUF;AAAC,CAzCD;;AA2CAc,MAAM,CAACC,OAAP,GAAiBV,MAAjB","names":["options","Object","assign","getKey","defaultGetKey","a","getValue","defaultGetValue","isLessThanOrEqualTo","defaultIsLessThanOrEqualTo","b","defineProperties","_getKey","value","_getValue","_isLessThanOrEqualTo","_map","Map","Filter","entries","filter","update","entry","key","has","get","set","module","exports"],"sources":["/home/samliu/repos/ieee/tp-robot/node_modules/twilio-video/lib/util/filter.js"],"sourcesContent":["'use strict';\n\nclass Filter {\n  constructor(options) {\n    options = Object.assign({\n      getKey: function defaultGetKey(a) { return a; },\n      getValue: function defaultGetValue(a) { return a; },\n      isLessThanOrEqualTo: function defaultIsLessThanOrEqualTo(a, b) { return a <= b; }\n    }, options);\n    Object.defineProperties(this, {\n      _getKey: {\n        value: options.getKey\n      },\n      _getValue: {\n        value: options.getValue\n      },\n      _isLessThanOrEqualTo: {\n        value: options.isLessThanOrEqualTo\n      },\n      _map: {\n        value: new Map()\n      }\n    });\n  }\n\n  toMap() {\n    return new Map(this._map);\n  }\n\n  updateAndFilter(entries) {\n    return entries.filter(this.update, this);\n  }\n\n  update(entry) {\n    const key = this._getKey(entry);\n    const value = this._getValue(entry);\n    if (this._map.has(key) &&\n        this._isLessThanOrEqualTo(value, this._map.get(key))) {\n      return false;\n    }\n    this._map.set(key, value);\n    return true;\n  }\n}\n\nmodule.exports = Filter;\n"]},"metadata":{},"sourceType":"script"}