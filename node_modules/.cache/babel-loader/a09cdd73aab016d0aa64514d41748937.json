{"ast":null,"code":"'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar EventEmitter = require('events').EventEmitter;\n/**\n * A {@link Track} implementation\n * @extends EventEmitter\n * @property {Track.Kind} kind\n * @property {string} name\n */\n\n\nvar TrackSignaling =\n/** @class */\nfunction (_super) {\n  __extends(TrackSignaling, _super);\n  /**\n   * Construct a {@link TrackSignaling}.\n   * @param {string} name\n   * @param {Track.Kind} kind\n   * @param {boolean} isEnabled\n   * @param {Track.Priority} priority\n   */\n\n\n  function TrackSignaling(name, kind, isEnabled, priority) {\n    var _this = _super.call(this) || this;\n\n    var sid = null;\n    Object.defineProperties(_this, {\n      _error: {\n        value: null,\n        writable: true\n      },\n      _isEnabled: {\n        value: isEnabled,\n        writable: true\n      },\n      _priority: {\n        value: priority,\n        writable: true\n      },\n      _trackTransceiver: {\n        value: null,\n        writable: true\n      },\n      _sid: {\n        get: function get() {\n          return sid;\n        },\n        set: function set(_sid) {\n          if (sid === null) {\n            sid = _sid;\n          }\n        }\n      },\n      kind: {\n        enumerable: true,\n        value: kind\n      },\n      name: {\n        enumerable: true,\n        value: name\n      }\n    });\n    return _this;\n  }\n\n  Object.defineProperty(TrackSignaling.prototype, \"error\", {\n    /**\n     * Non-null if publication or subscription failed.\n     * @property {?Error} error\n     */\n    get: function get() {\n      return this._error;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TrackSignaling.prototype, \"isEnabled\", {\n    /**\n     * Whether the {@link TrackSignaling} is enabled.\n     * @property {boolean}\n     */\n    get: function get() {\n      return this._isEnabled;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TrackSignaling.prototype, \"priority\", {\n    /**\n     * The {@link TrackSignaling}'s priority.\n     * @property {Track.Priority}\n     */\n    get: function get() {\n      return this._priority;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TrackSignaling.prototype, \"sid\", {\n    /**\n     * The {@link TrackSignaling}'s {@link Track.SID}.\n     * @property {Track.SID}\n     */\n    get: function get() {\n      return this._sid;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TrackSignaling.prototype, \"trackTransceiver\", {\n    /**\n     * The {@link TrackSignaling}'s {@link TrackTransceiver}.\n     * @property {TrackTransceiver}\n     */\n    get: function get() {\n      return this._trackTransceiver;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Disable the {@link TrackSignaling} if it is not already disabled.\n   * @return {this}\n   */\n\n  TrackSignaling.prototype.disable = function () {\n    return this.enable(false);\n  };\n  /**\n   * Enable (or disable) the {@link TrackSignaling} if it is not already enabled\n   * (or disabled).\n   * @param {boolean} [enabled=true]\n   * @return {this}\n   */\n\n\n  TrackSignaling.prototype.enable = function (enabled) {\n    enabled = typeof enabled === 'boolean' ? enabled : true;\n\n    if (this.isEnabled !== enabled) {\n      this._isEnabled = enabled;\n      this.emit('updated');\n    }\n\n    return this;\n  };\n  /**\n   * Set the {@link TrackTransceiver} on the {@link TrackSignaling}.\n   * @param {TrackTransceiver} trackTransceiver\n   * @returns {this}\n   */\n\n\n  TrackSignaling.prototype.setTrackTransceiver = function (trackTransceiver) {\n    trackTransceiver = trackTransceiver || null;\n\n    if (this.trackTransceiver !== trackTransceiver) {\n      this._trackTransceiver = trackTransceiver;\n      this.emit('updated');\n    }\n\n    return this;\n  };\n  /**\n   * Set the SID on the {@link TrackSignaling} once.\n   * @param {string} sid\n   * @returns {this}\n   */\n\n\n  TrackSignaling.prototype.setSid = function (sid) {\n    if (this.sid === null) {\n      this._sid = sid;\n      this.emit('updated');\n    }\n\n    return this;\n  };\n\n  return TrackSignaling;\n}(EventEmitter);\n/**\n * Emitted whenever the {@link TrackSignaling} is updated\n * @event TrackSignaling#updated\n */\n\n\nmodule.exports = TrackSignaling;","map":{"version":3,"mappings":"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","names":["require","EventEmitter","__extends","name","kind","isEnabled","priority","_super","sid","Object","defineProperties","_this","_error","value","writable","_isEnabled","_priority","_trackTransceiver","_sid","get","set","enumerable","TrackSignaling","enable","enabled","emit","trackTransceiver","module","exports"],"sources":["/home/samliu/repos/ieee/twilio-video-starter-kit/node_modules/twilio-video/lib/signaling/track.js"],"sourcesContent":["'use strict';\n\nconst { EventEmitter } = require('events');\n\n/**\n * A {@link Track} implementation\n * @extends EventEmitter\n * @property {Track.Kind} kind\n * @property {string} name\n */\nclass TrackSignaling extends EventEmitter {\n  /**\n   * Construct a {@link TrackSignaling}.\n   * @param {string} name\n   * @param {Track.Kind} kind\n   * @param {boolean} isEnabled\n   * @param {Track.Priority} priority\n   */\n  constructor(name, kind, isEnabled, priority) {\n    super();\n    let sid = null;\n    Object.defineProperties(this, {\n      _error: {\n        value: null,\n        writable: true\n      },\n      _isEnabled: {\n        value: isEnabled,\n        writable: true\n      },\n      _priority: {\n        value: priority,\n        writable: true\n      },\n      _trackTransceiver: {\n        value: null,\n        writable: true\n      },\n      _sid: {\n        get() {\n          return sid;\n        },\n        set(_sid) {\n          if (sid === null) {\n            sid = _sid;\n          }\n        }\n      },\n      kind: {\n        enumerable: true,\n        value: kind\n      },\n      name: {\n        enumerable: true,\n        value: name\n      }\n    });\n  }\n\n  /**\n   * Non-null if publication or subscription failed.\n   * @property {?Error} error\n   */\n  get error() {\n    return this._error;\n  }\n\n  /**\n   * Whether the {@link TrackSignaling} is enabled.\n   * @property {boolean}\n   */\n  get isEnabled() {\n    return this._isEnabled;\n  }\n\n  /**\n   * The {@link TrackSignaling}'s priority.\n   * @property {Track.Priority}\n   */\n  get priority() {\n    return this._priority;\n  }\n\n  /**\n   * The {@link TrackSignaling}'s {@link Track.SID}.\n   * @property {Track.SID}\n   */\n  get sid() {\n    return this._sid;\n  }\n\n  /**\n   * The {@link TrackSignaling}'s {@link TrackTransceiver}.\n   * @property {TrackTransceiver}\n   */\n  get trackTransceiver() {\n    return this._trackTransceiver;\n  }\n\n  /**\n   * Disable the {@link TrackSignaling} if it is not already disabled.\n   * @return {this}\n   */\n  disable() {\n    return this.enable(false);\n  }\n\n  /**\n   * Enable (or disable) the {@link TrackSignaling} if it is not already enabled\n   * (or disabled).\n   * @param {boolean} [enabled=true]\n   * @return {this}\n   */\n  enable(enabled) {\n    enabled = typeof enabled === 'boolean' ? enabled : true;\n    if (this.isEnabled !== enabled) {\n      this._isEnabled = enabled;\n      this.emit('updated');\n    }\n    return this;\n  }\n\n  /**\n   * Set the {@link TrackTransceiver} on the {@link TrackSignaling}.\n   * @param {TrackTransceiver} trackTransceiver\n   * @returns {this}\n   */\n\n  setTrackTransceiver(trackTransceiver) {\n    trackTransceiver = trackTransceiver || null;\n    if (this.trackTransceiver !== trackTransceiver) {\n      this._trackTransceiver = trackTransceiver;\n      this.emit('updated');\n    }\n    return this;\n  }\n\n  /**\n   * Set the SID on the {@link TrackSignaling} once.\n   * @param {string} sid\n   * @returns {this}\n   */\n  setSid(sid) {\n    if (this.sid === null) {\n      this._sid = sid;\n      this.emit('updated');\n    }\n    return this;\n  }\n}\n\n/**\n * Emitted whenever the {@link TrackSignaling} is updated\n * @event TrackSignaling#updated\n */\n\nmodule.exports = TrackSignaling;\n"]},"metadata":{},"sourceType":"script"}