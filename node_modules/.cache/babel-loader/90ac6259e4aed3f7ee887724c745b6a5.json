{"ast":null,"code":"var _jsxFileName = \"/home/samliu/repos/ieee/twilio-video-starter-kit/src/App.js\";\nimport './App.scss';\nimport React, { Component } from 'react';\nimport Room from './Room';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst {\n  connect\n} = require('twilio-video');\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      identity: '',\n      room: null\n    };\n    this.inputRef = /*#__PURE__*/React.createRef();\n    this.joinRoom = this.joinRoom.bind(this);\n    this.returnToLobby = this.returnToLobby.bind(this);\n    this.updateIdentity = this.updateIdentity.bind(this);\n    this.removePlaceholderText = this.removePlaceholderText.bind(this);\n  }\n\n  async joinRoom() {\n    try {\n      const response = await fetch(`https://{token}?identity=${this.state.identity}`);\n      const data = await response.json();\n      const room = await connect(data.accessToken, {\n        name: 'cool-room',\n        audio: true,\n        video: true\n      });\n      this.setState({\n        room: room\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  returnToLobby() {\n    this.setState({\n      room: null\n    });\n  }\n\n  removePlaceholderText() {\n    this.inputRef.current.placeholder = '';\n  }\n\n  updateIdentity(event) {\n    this.setState({\n      identity: event.target.value\n    });\n  }\n\n  render() {\n    /*#__PURE__*/\n    _jsxDEV(\"input\", {\n      value: this.state.identity,\n      onChange: this.updateIdentity,\n      ref: this.inputRef,\n      onClick: this.removePlaceholderText,\n      placeholder: \"What's your name?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this);\n    /* const disabled = this.state.identity === '' ? true : false; */\n\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: this.state.room === null ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lobby\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"What's your name?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          /* disabledd={disabled} */\n          onClick: this.joinRoom,\n          children: \"Join Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(Room, {\n        returnToLobby: this.returnToLobby,\n        room: this.state.room\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","Room","connect","require","App","constructor","props","state","identity","room","inputRef","createRef","joinRoom","bind","returnToLobby","updateIdentity","removePlaceholderText","response","fetch","data","json","accessToken","name","audio","video","setState","err","console","log","current","placeholder","event","target","value","render"],"sources":["/home/samliu/repos/ieee/twilio-video-starter-kit/src/App.js"],"sourcesContent":["import './App.scss';\nimport React, {Component} from 'react';\nimport Room from './Room'\nconst { connect } = require('twilio-video');\n\nclass App extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            identity: '', \n            room: null\n        }\n        this.inputRef = React.createRef();\n        this.joinRoom = this.joinRoom.bind(this);\n        this.returnToLobby = this.returnToLobby.bind(this);\n        this.updateIdentity = this.updateIdentity.bind(this);\n        this.removePlaceholderText = this.removePlaceholderText.bind(this);\n    } \n    \n    async joinRoom() {\n        try {\n          const response = await fetch(`https://{token}?identity=${this.state.identity}`);\n          const data = await response.json();\n          const room = await connect(data.accessToken, {\n            name: 'cool-room',\n            audio: true,\n            video: true\n          });\n      \n          this.setState({ room: room });\n        } catch(err) {\n          console.log(err);\n        }\n      }\n    \n      returnToLobby() {\n        this.setState({ room: null });\n      }\n\n      removePlaceholderText() {\n        this.inputRef.current.placeholder = '';\n      }\n\n      updateIdentity(event) {\n        this.setState({\n          identity: event.target.value\n        });\n      }\n      \n      render() {\n        <input \n        \n        value={this.state.identity}\n        onChange={this.updateIdentity}\n        ref={this.inputRef}\n        onClick={this.removePlaceholderText} \n        placeholder=\"What's your name?\"/>\n\n        /* const disabled = this.state.identity === '' ? true : false; */\n\n        return (\n          <div className=\"app\">\n            { \n              this.state.room === null\n              ? <div className=\"lobby\">\n                   <input \n                     placeholder=\"What's your name?\"/>\n                  <button /* disabledd={disabled} */ onClick={this.joinRoom}>Join Room</button>\n                </div>\n              : <Room returnToLobby={this.returnToLobby} room={this.state.room} />\n            }\n          </div>\n          \n        );\n      }\n}\n\n\n\nexport default App;\n"],"mappings":";AAAA,OAAO,YAAP;AACA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,QAAjB;;;AACA,MAAM;EAAEC;AAAF,IAAcC,OAAO,CAAC,cAAD,CAA3B;;AAEA,MAAMC,GAAN,SAAkBJ,SAAlB,CAA4B;EACxBK,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;IAEA,KAAKC,KAAL,GAAa;MACTC,QAAQ,EAAE,EADD;MAETC,IAAI,EAAE;IAFG,CAAb;IAIA,KAAKC,QAAL,gBAAgBX,KAAK,CAACY,SAAN,EAAhB;IACA,KAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;IACA,KAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;IACA,KAAKE,cAAL,GAAsB,KAAKA,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAtB;IACA,KAAKG,qBAAL,GAA6B,KAAKA,qBAAL,CAA2BH,IAA3B,CAAgC,IAAhC,CAA7B;EACH;;EAEa,MAARD,QAAQ,GAAG;IACb,IAAI;MACF,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAE,4BAA2B,KAAKX,KAAL,CAAWC,QAAS,EAAjD,CAA5B;MACA,MAAMW,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;MACA,MAAMX,IAAI,GAAG,MAAMP,OAAO,CAACiB,IAAI,CAACE,WAAN,EAAmB;QAC3CC,IAAI,EAAE,WADqC;QAE3CC,KAAK,EAAE,IAFoC;QAG3CC,KAAK,EAAE;MAHoC,CAAnB,CAA1B;MAMA,KAAKC,QAAL,CAAc;QAAEhB,IAAI,EAAEA;MAAR,CAAd;IACD,CAVD,CAUE,OAAMiB,GAAN,EAAW;MACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD;EACF;;EAEDZ,aAAa,GAAG;IACd,KAAKW,QAAL,CAAc;MAAEhB,IAAI,EAAE;IAAR,CAAd;EACD;;EAEDO,qBAAqB,GAAG;IACtB,KAAKN,QAAL,CAAcmB,OAAd,CAAsBC,WAAtB,GAAoC,EAApC;EACD;;EAEDf,cAAc,CAACgB,KAAD,EAAQ;IACpB,KAAKN,QAAL,CAAc;MACZjB,QAAQ,EAAEuB,KAAK,CAACC,MAAN,CAAaC;IADX,CAAd;EAGD;;EAEDC,MAAM,GAAG;IACP;IAAA;MAEA,KAAK,EAAE,KAAK3B,KAAL,CAAWC,QAFlB;MAGA,QAAQ,EAAE,KAAKO,cAHf;MAIA,GAAG,EAAE,KAAKL,QAJV;MAKA,OAAO,EAAE,KAAKM,qBALd;MAMA,WAAW,EAAC;IANZ;MAAA;MAAA;MAAA;IAAA;IAQA;;;IAEA,oBACE;MAAK,SAAS,EAAC,KAAf;MAAA,UAEI,KAAKT,KAAL,CAAWE,IAAX,KAAoB,IAApB,gBACE;QAAK,SAAS,EAAC,OAAf;QAAA,wBACG;UACE,WAAW,EAAC;QADd;UAAA;UAAA;UAAA;QAAA,QADH,eAGE;UAAQ;UAA2B,OAAO,EAAE,KAAKG,QAAjD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAHF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,gBAME,QAAC,IAAD;QAAM,aAAa,EAAE,KAAKE,aAA1B;QAAyC,IAAI,EAAE,KAAKP,KAAL,CAAWE;MAA1D;QAAA;QAAA;QAAA;MAAA;IARN;MAAA;MAAA;MAAA;IAAA,QADF;EAcD;;AAtEqB;;AA2E5B,eAAeL,GAAf"},"metadata":{},"sourceType":"module"}