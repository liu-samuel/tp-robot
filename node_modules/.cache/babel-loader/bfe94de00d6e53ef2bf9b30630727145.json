{"ast":null,"code":"'use strict';\n\nvar ReceiverReport = require('./receiverreport');\n\nvar SenderReport = require('./senderreport');\n/**\n * @interface SenderAndReceiverReports\n * @property {Array<SenderReport>} send\n * @property {Array<ReceiverReport>} recv\n */\n\n/**\n * @interface SenderAndReceiverSummary\n * @property {SenderSummary} send\n * @property {ReceiverSummary} recv\n */\n\n/**\n * @interface PeerConnectionSummary\n * @property {IceReport} ice\n * @property {SenderSummary} send\n * @property {ReceiverSummary} recv\n * @property {SenderAndReceiverSummary} audio\n * @property {SenderAndReceiverSummary} video\n */\n\n/**\n * @property {IceReport} ice\n * @roperty {SenderAndReceiverReports} audio\n * @roperty {SenderAndReceiverReports} video\n */\n\n\nvar PeerConnectionReport =\n/** @class */\nfunction () {\n  /**\n   * Construct a {@link PeerConnectionReport}.\n   * @param {IceReport} ice\n   * @param {SenderAndReceiverReports} audio\n   * @param {SenderAndReceiverReports} video\n   */\n  function PeerConnectionReport(ice, audio, video) {\n    Object.defineProperties(this, {\n      ice: {\n        enumerable: true,\n        value: ice\n      },\n      audio: {\n        enumerable: true,\n        value: audio\n      },\n      video: {\n        enumerable: true,\n        value: video\n      }\n    });\n  }\n  /**\n   * Summarize the {@link PeerConnectionReport} by summarizing its\n   * {@link SenderReport}s and {@link ReceiverReport}s.\n   * @returns {PeerConnectionSummary}\n   */\n\n\n  PeerConnectionReport.prototype.summarize = function () {\n    var senderReports = this.audio.send.concat(this.video.send);\n    var send = SenderReport.summarize(senderReports);\n    var receiverReports = this.audio.recv.concat(this.video.recv);\n    var recv = ReceiverReport.summarize(receiverReports);\n    return {\n      ice: this.ice,\n      send: send,\n      recv: recv,\n      audio: {\n        send: SenderReport.summarize(this.audio.send),\n        recv: ReceiverReport.summarize(this.audio.recv)\n      },\n      video: {\n        send: SenderReport.summarize(this.video.send),\n        recv: ReceiverReport.summarize(this.video.recv)\n      }\n    };\n  };\n\n  return PeerConnectionReport;\n}();\n\nmodule.exports = PeerConnectionReport;","map":{"version":3,"mappings":"AAAA;;AAEA,IAAMA,cAAc,GAAGC,OAAO,CAAC,kBAAD,CAA9B;;AACA,IAAMC,YAAY,GAAGD,OAAO,CAAC,gBAAD,CAA5B;AAEA;;;;;;AAMA;;;;;;AAMA;;;;;;;;;AASA;;;;;;;AAKA;AAAA;AAAA;EACE;;;;;;EAMA,8BAAYE,GAAZ,EAAiBC,KAAjB,EAAwBC,KAAxB,EAA6B;IAC3BC,MAAM,CAACC,gBAAP,CAAwB,IAAxB,EAA8B;MAC5BJ,GAAG,EAAE;QACHK,UAAU,EAAE,IADT;QAEHC,KAAK,EAAEN;MAFJ,CADuB;MAK5BC,KAAK,EAAE;QACLI,UAAU,EAAE,IADP;QAELC,KAAK,EAAEL;MAFF,CALqB;MAS5BC,KAAK,EAAE;QACLG,UAAU,EAAE,IADP;QAELC,KAAK,EAAEJ;MAFF;IATqB,CAA9B;EAcD;EAED;;;;;;;EAKAK;IACE,IAAMC,aAAa,GAAG,KAAKP,KAAL,CAAWQ,IAAX,CAAgBC,MAAhB,CAAuB,KAAKR,KAAL,CAAWO,IAAlC,CAAtB;IACA,IAAMA,IAAI,GAAGV,YAAY,CAACY,SAAb,CAAuBH,aAAvB,CAAb;IAEA,IAAMI,eAAe,GAAG,KAAKX,KAAL,CAAWY,IAAX,CAAgBH,MAAhB,CAAuB,KAAKR,KAAL,CAAWW,IAAlC,CAAxB;IACA,IAAMA,IAAI,GAAGhB,cAAc,CAACc,SAAf,CAAyBC,eAAzB,CAAb;IAEA,OAAO;MACLZ,GAAG,EAAE,KAAKA,GADL;MAELS,IAAI,MAFC;MAGLI,IAAI,MAHC;MAILZ,KAAK,EAAE;QACLQ,IAAI,EAAEV,YAAY,CAACY,SAAb,CAAuB,KAAKV,KAAL,CAAWQ,IAAlC,CADD;QAELI,IAAI,EAAEhB,cAAc,CAACc,SAAf,CAAyB,KAAKV,KAAL,CAAWY,IAApC;MAFD,CAJF;MAQLX,KAAK,EAAE;QACLO,IAAI,EAAEV,YAAY,CAACY,SAAb,CAAuB,KAAKT,KAAL,CAAWO,IAAlC,CADD;QAELI,IAAI,EAAEhB,cAAc,CAACc,SAAf,CAAyB,KAAKT,KAAL,CAAWW,IAApC;MAFD;IARF,CAAP;EAaD,CApBD;;EAqBF;AAAC,CAlDD;;AAoDAC,MAAM,CAACC,OAAP,GAAiBR,oBAAjB","names":["ReceiverReport","require","SenderReport","ice","audio","video","Object","defineProperties","enumerable","value","PeerConnectionReport","senderReports","send","concat","summarize","receiverReports","recv","module","exports"],"sources":["/home/samliu/repos/ieee/tp-robot/node_modules/twilio-video/lib/stats/peerconnectionreport.js"],"sourcesContent":["'use strict';\n\nconst ReceiverReport = require('./receiverreport');\nconst SenderReport = require('./senderreport');\n\n/**\n * @interface SenderAndReceiverReports\n * @property {Array<SenderReport>} send\n * @property {Array<ReceiverReport>} recv\n */\n\n/**\n * @interface SenderAndReceiverSummary\n * @property {SenderSummary} send\n * @property {ReceiverSummary} recv\n */\n\n/**\n * @interface PeerConnectionSummary\n * @property {IceReport} ice\n * @property {SenderSummary} send\n * @property {ReceiverSummary} recv\n * @property {SenderAndReceiverSummary} audio\n * @property {SenderAndReceiverSummary} video\n */\n\n/**\n * @property {IceReport} ice\n * @roperty {SenderAndReceiverReports} audio\n * @roperty {SenderAndReceiverReports} video\n */\nclass PeerConnectionReport {\n  /**\n   * Construct a {@link PeerConnectionReport}.\n   * @param {IceReport} ice\n   * @param {SenderAndReceiverReports} audio\n   * @param {SenderAndReceiverReports} video\n   */\n  constructor(ice, audio, video) {\n    Object.defineProperties(this, {\n      ice: {\n        enumerable: true,\n        value: ice\n      },\n      audio: {\n        enumerable: true,\n        value: audio\n      },\n      video: {\n        enumerable: true,\n        value: video\n      }\n    });\n  }\n\n  /**\n   * Summarize the {@link PeerConnectionReport} by summarizing its\n   * {@link SenderReport}s and {@link ReceiverReport}s.\n   * @returns {PeerConnectionSummary}\n   */\n  summarize() {\n    const senderReports = this.audio.send.concat(this.video.send);\n    const send = SenderReport.summarize(senderReports);\n\n    const receiverReports = this.audio.recv.concat(this.video.recv);\n    const recv = ReceiverReport.summarize(receiverReports);\n\n    return {\n      ice: this.ice,\n      send,\n      recv,\n      audio: {\n        send: SenderReport.summarize(this.audio.send),\n        recv: ReceiverReport.summarize(this.audio.recv)\n      },\n      video: {\n        send: SenderReport.summarize(this.video.send),\n        recv: ReceiverReport.summarize(this.video.recv)\n      }\n    };\n  }\n}\n\nmodule.exports = PeerConnectionReport;\n"]},"metadata":{},"sourceType":"script"}